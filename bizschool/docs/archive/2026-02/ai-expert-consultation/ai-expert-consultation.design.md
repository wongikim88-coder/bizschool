# AI ì „ë¬¸ê°€ ìƒë‹´ (ai-expert-consultation) Design Document

> **Summary**: Gemini ìŠ¤íƒ€ì¼ ì±„íŒ… UI + ì „ë¬¸ê°€ ê²€ì¦ ì‹œìŠ¤í…œ ìƒì„¸ ì„¤ê³„
>
> **Project**: BIZSCHOOL
> **Version**: 0.1.0
> **Author**: Allen
> **Date**: 2026-02-26
> **Status**: Draft
> **Planning Doc**: [ai-expert-consultation.plan.md](../01-plan/features/ai-expert-consultation.plan.md)

### Pipeline References

| Phase | Document | Status |
|-------|----------|--------|
| Phase 1 | Schema Definition | N/A |
| Phase 2 | Coding Conventions | N/A (ê¸°ì¡´ íŒ¨í„´ ë”°ë¦„) |
| Phase 3 | Mockup (ì´ ë¬¸ì„œì— í¬í•¨) | âœ… |
| Phase 4 | API Spec | N/A (mock ë°ì´í„°) |

---

## 1. Overview

### 1.1 Design Goals

- Gemini UIë¥¼ ì¶©ì‹¤íˆ ì°¸ê³ í•œ ëª¨ë˜ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
- ê¸°ì¡´ BIZSCHOOL ë””ìì¸ í† í°(ìƒ‰ìƒ, í°íŠ¸)ê³¼ì˜ ì¼ê´€ì„±
- ì „ë¬¸ê°€ ê²€ì¦ í”Œë¡œìš°ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í†µí•©í•œ UX
- ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ë°˜ì‘í˜• ì™„ë²½ ëŒ€ì‘

### 1.2 Design Principles

- **Gemini íŒ¨í„´ ì¤€ìˆ˜**: ì¢Œì¸¡ ì‚¬ì´ë“œë°” + ì¤‘ì•™ ì±„íŒ… + í•˜ë‹¨ ì…ë ¥ì°½ ë ˆì´ì•„ì›ƒ
- **ì ì§„ì  ë³µì¡ì„±**: ì´ˆê¸° í™”ë©´ì€ ë‹¨ìˆœ â†’ ëŒ€í™” ì‹œì‘ í›„ ê¸°ëŠ¥ ë…¸ì¶œ
- **ì»´í¬ë„ŒíŠ¸ ë…ë¦½ì„±**: ê° ì»´í¬ë„ŒíŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘ ê°€ëŠ¥

---

## 2. Architecture

### 2.1 Component Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ConsultingPage                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              â”‚            ChatArea                      â”‚â”‚
â”‚  â”‚   Sidebar    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚              â”‚  â”‚   WelcomeScreen / ChatMessages      â”‚  â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚                                    â”‚  â”‚â”‚
â”‚  â”‚  â”‚Session â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚â”‚
â”‚  â”‚  â”‚List    â”‚  â”‚  â”‚  â”‚  ChatMessage (user)           â”‚  â”‚  â”‚â”‚
â”‚  â”‚  â”‚        â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚â”‚
â”‚  â”‚  â”‚ - item â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚â”‚
â”‚  â”‚  â”‚ - item â”‚  â”‚  â”‚  â”‚  ChatMessage (assistant)      â”‚  â”‚  â”‚â”‚
â”‚  â”‚  â”‚ - item â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€ ExpertBadge              â”‚  â”‚  â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â””â”€â”€ ActionButtons            â”‚  â”‚  â”‚â”‚
â”‚  â”‚              â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚â”‚
â”‚  â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚              â”‚  â”‚          ChatInput                  â”‚  â”‚â”‚
â”‚  â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚              â”‚  â”‚        SuggestChips                 â”‚  â”‚â”‚
â”‚  â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Data Flow

```
ì‚¬ìš©ì ì…ë ¥ â†’ ChatInput â†’ ConsultingPage (state)
                              â”‚
                              â”œâ”€â”€ messages ë°°ì—´ì— user ë©”ì‹œì§€ ì¶”ê°€
                              â”œâ”€â”€ mock AI ì‘ë‹µ ìƒì„± (setTimeout ì‹œë®¬ë ˆì´ì…˜)
                              â”œâ”€â”€ messages ë°°ì—´ì— assistant ë©”ì‹œì§€ ì¶”ê°€
                              â””â”€â”€ sessions ë°°ì—´ ì—…ë°ì´íŠ¸ (ì‚¬ì´ë“œë°”)

ì „ë¬¸ê°€ ê²€ì¦ ì‹ ì²­ â†’ ChatMessage â†’ ConsultingPage (state)
                                    â”‚
                                    â””â”€â”€ í•´ë‹¹ ë©”ì‹œì§€ì˜ expertVerification.status = 'pending' â†’ 'verified'
```

### 2.3 Dependencies

| Component | Depends On | Purpose |
|-----------|-----------|---------|
| ConsultingPage | Sidebar, ChatArea | ìµœìƒìœ„ í˜ì´ì§€ ì¡°í•© |
| ChatArea | ChatMessage, ChatInput, WelcomeScreen, SuggestChips | ì±„íŒ… ì˜ì—­ ì¡°í•© |
| ChatMessage | ExpertBadge | ë©”ì‹œì§€ ë Œë”ë§ + ê²€ì¦ ë°°ì§€ |
| Sidebar | (ë…ë¦½) | ëŒ€í™” ê¸°ë¡ ëª©ë¡ |

---

## 3. Data Model

### 3.1 Entity Definition

```typescript
// â”€â”€ ëŒ€í™” ì„¸ì…˜ â”€â”€
export interface ConsultationSession {
  id: string;
  title: string;             // ì²« ì§ˆë¬¸ ì• 20ì (ì‚¬ì´ë“œë°” í‘œì‹œìš©)
  createdAt: string;         // ISO 8601
  updatedAt: string;         // ISO 8601
  messages: ChatMessage[];
}

// â”€â”€ ì±„íŒ… ë©”ì‹œì§€ â”€â”€
export interface ChatMessage {
  id: string;
  role: 'user' | 'assistant';
  content: string;
  createdAt: string;         // ISO 8601
  expertVerification?: ExpertVerification;  // assistant ë©”ì‹œì§€ë§Œ í•´ë‹¹
}

// â”€â”€ ì „ë¬¸ê°€ ê²€ì¦ â”€â”€
export interface ExpertVerification {
  status: 'none' | 'pending' | 'verified';
  expertName?: string;       // ê²€ì¦ ì „ë¬¸ê°€ ì´ë¦„
  verifiedAt?: string;       // ê²€ì¦ ì™„ë£Œ ì‹œê°
  comment?: string;          // ì „ë¬¸ê°€ ì½”ë©˜íŠ¸
}
```

### 3.2 Entity Relationships

```
[ConsultationSession] 1 â”€â”€â”€â”€ N [ChatMessage]
                                     â”‚
                                     â””â”€â”€ 0..1 [ExpertVerification]
```

---

## 4. API Specification

> ì´ë²ˆ êµ¬í˜„ì€ mock ë°ì´í„°ë¡œ ì§„í–‰. ì‹¤ì œ API ì—°ë™ì€ Out of Scope.

### 4.1 Mock ì‘ë‹µ ì „ëµ

| ì‹œë‚˜ë¦¬ì˜¤ | ë™ì‘ |
|----------|------|
| ì‚¬ìš©ì ì§ˆë¬¸ ì „ì†¡ | 1.5ì´ˆ ë”œë ˆì´ í›„ ë¯¸ë¦¬ ì •ì˜ëœ mock ì‘ë‹µ ë°˜í™˜ |
| ì „ë¬¸ê°€ ê²€ì¦ ì‹ ì²­ | ì¦‰ì‹œ `pending` â†’ 2ì´ˆ í›„ `verified`ë¡œ ìë™ ì „í™˜ (ì‹œë®¬ë ˆì´ì…˜) |
| ìƒˆ ì±„íŒ… | ë¹ˆ ì„¸ì…˜ ìƒì„±, í˜„ì¬ ì„¸ì…˜ ì‚¬ì´ë“œë°”ì— ì €ì¥ |

### 4.2 Mock ë°ì´í„° íŒŒì¼

`src/data/consultation.ts`ì—ì„œ ê´€ë¦¬:

```typescript
// ì¶”ì²œ ì§ˆë¬¸ ì¹©
export const SUGGEST_CHIPS = [
  { label: "ì„¸ë¬´ ìƒë‹´", query: "ê°œì¸ì‚¬ì—…ì ì¢…í•©ì†Œë“ì„¸ ì‹ ê³  ë°©ë²•ì´ ê¶ê¸ˆí•©ë‹ˆë‹¤" },
  { label: "íšŒê³„ ì§ˆë¬¸", query: "ë³µì‹ë¶€ê¸°ì™€ ê°„í¸ì¥ë¶€ì˜ ì°¨ì´ì ì„ ì•Œë ¤ì£¼ì„¸ìš”" },
  { label: "ê²½ë¦¬ ë¬¸ì˜", query: "ê¸‰ì—¬ ì›ì²œì§•ìˆ˜ ê³„ì‚° ë°©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”" },
  { label: "ì„¸ê¸ˆ ê³„ì‚°", query: "ë¶€ê°€ê°€ì¹˜ì„¸ ë§¤ì…ì„¸ì•¡ ê³µì œ ì¡°ê±´ì´ ê¶ê¸ˆí•©ë‹ˆë‹¤" },
];

// ì¹´í…Œê³ ë¦¬ë³„ mock ì‘ë‹µ (í‚¤ì›Œë“œ ë§¤ì¹­)
export const MOCK_RESPONSES: Record<string, string> = {
  ì¢…í•©ì†Œë“ì„¸: "ì¢…í•©ì†Œë“ì„¸ëŠ” ê°œì¸ì´ 1ë…„ê°„ ê²½ì œí™œë™ìœ¼ë¡œ...",
  ë³µì‹ë¶€ê¸°: "ë³µì‹ë¶€ê¸°ëŠ” ê±°ë˜ë¥¼ ì°¨ë³€ê³¼ ëŒ€ë³€ìœ¼ë¡œ...",
  ì›ì²œì§•ìˆ˜: "ì›ì²œì§•ìˆ˜ëŠ” ì†Œë“ì„ ì§€ê¸‰í•˜ëŠ” ìê°€...",
  ë¶€ê°€ê°€ì¹˜ì„¸: "ë¶€ê°€ê°€ì¹˜ì„¸ ë§¤ì…ì„¸ì•¡ ê³µì œë¥¼ ë°›ê¸° ìœ„í•´ì„œëŠ”...",
  default: "ì•ˆë…•í•˜ì„¸ìš”! ì„¸ë¬´/íšŒê³„/ê²½ë¦¬ ê´€ë ¨ ê¶ê¸ˆí•˜ì‹  ì ì— ëŒ€í•´ ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤...",
};
```

---

## 5. UI/UX Design

### 5.1 ë¼ìš°íŠ¸ ë° ë ˆì´ì•„ì›ƒ

| ê²½ë¡œ | íŒŒì¼ | ë ˆì´ì•„ì›ƒ |
|------|------|----------|
| `/consulting` | `src/app/consulting/page.tsx` | ì „ìš© ë ˆì´ì•„ì›ƒ (Header/Footer ì œì™¸) |
| - | `src/app/consulting/layout.tsx` | í°íŠ¸ + ì „ì²´ í™”ë©´ |

> **ì¤‘ìš”**: ê¸°ì¡´ Header ë„¤ë¹„ê²Œì´ì…˜ì˜ "ì „ë¬¸ê°€ìƒë‹´" ë§í¬ê°€ `/consulting`ì„ ê°€ë¦¬í‚¤ë¯€ë¡œ ë¼ìš°íŠ¸ ì¼ì¹˜.

### 5.2 í™”ë©´ ìƒì„¸ ì„¤ê³„

#### 5.2.1 ì „ì²´ ë ˆì´ì•„ì›ƒ (Gemini ìŠ¤íƒ€ì¼)

```
ë°ìŠ¤í¬í†± (â‰¥768px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜°  BIZSCHOOL AI ì „ë¬¸ê°€ ìƒë‹´                     [BIZSCHOOL í™ˆ] â”‚  â† TopBar (h-14)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             â”‚                                                   â”‚
â”‚  Sidebar    â”‚              ChatArea                             â”‚
â”‚  (w-260px)  â”‚              (flex-1)                             â”‚
â”‚             â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                                   â”‚
â”‚  â”‚ìƒˆ ì±„íŒ…  â”‚ â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                                   â”‚
â”‚             â”‚                                                   â”‚
â”‚  â”€â”€ ì˜¤ëŠ˜ â”€â”€ â”‚                                                   â”‚
â”‚  ğŸ“„ ì„¸ë¬´ ìƒë‹´â”‚                                                   â”‚
â”‚  ğŸ“„ íšŒê³„ ì§ˆë¬¸â”‚                                                   â”‚
â”‚             â”‚                                                   â”‚
â”‚  â”€â”€ ì–´ì œ â”€â”€ â”‚                                                   â”‚
â”‚  ğŸ“„ ê²½ë¦¬ ë¬¸ì˜â”‚                                                   â”‚
â”‚             â”‚                                                   â”‚
â”‚             â”‚         (ì±„íŒ… ë‚´ìš© ë˜ëŠ” WelcomeScreen)             â”‚
â”‚             â”‚                                                   â”‚
â”‚             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚             â”‚  â”‚  ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...           [ì „ì†¡]   â”‚     â”‚  â† ChatInput
â”‚             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚             â”‚                                                   â”‚
â”‚             â”‚  [ì„¸ë¬´ ìƒë‹´] [íšŒê³„ ì§ˆë¬¸] [ê²½ë¦¬ ë¬¸ì˜] [ì„¸ê¸ˆ ê³„ì‚°]    â”‚  â† SuggestChips
â”‚             â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ëª¨ë°”ì¼ (<768px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜°  BIZSCHOOL AI ìƒë‹´    [í™ˆ]     â”‚  â† TopBar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚     (ì±„íŒ… ë‚´ìš© / WelcomeScreen)   â”‚  â† ChatArea (ì „ì²´ ë„ˆë¹„)
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ë©”ì‹œì§€ ì…ë ¥...       [ì „ì†¡] â”‚  â”‚  â† ChatInput
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚
â”‚  [ì„¸ë¬´] [íšŒê³„] [ê²½ë¦¬] [ì„¸ê¸ˆ]      â”‚  â† SuggestChips
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€» ëª¨ë°”ì¼: â˜° í´ë¦­ ì‹œ Sidebarê°€ ì˜¤ë²„ë ˆì´ë¡œ ìŠ¬ë¼ì´ë“œ ì¸
```

#### 5.2.2 WelcomeScreen (ì´ˆê¸° í™”ë©´)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚                                                 â”‚
â”‚           ğŸ’¬ AI ì „ë¬¸ê°€ì—ê²Œ ë¬¼ì–´ë³´ì„¸ìš”              â”‚  â† ë©”ì¸ íƒ€ì´í‹€ (text-3xl, font-bold)
â”‚                                                 â”‚
â”‚     ì„¸ë¬´, íšŒê³„, ê²½ë¦¬ ê´€ë ¨ ê¶ê¸ˆí•œ ì ì„              â”‚  â† ì„œë¸Œ í…ìŠ¤íŠ¸ (text-muted, text-lg)
â”‚     ììœ ë¡­ê²Œ ì§ˆë¬¸í•´ ì£¼ì„¸ìš”.                        â”‚
â”‚                                                 â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.3 ChatMessage - AI ë‹µë³€ (ì „ë¬¸ê°€ ê²€ì¦ ì „)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI ì „ë¬¸ê°€                                    â”‚
â”‚                                                 â”‚
â”‚  ì¢…í•©ì†Œë“ì„¸ëŠ” ê°œì¸ì´ 1ë…„ê°„ ê²½ì œí™œë™ìœ¼ë¡œ ì–»ì€       â”‚
â”‚  ì†Œë“ì— ëŒ€í•´ ë‚©ë¶€í•˜ëŠ” ì„¸ê¸ˆì…ë‹ˆë‹¤.                   â”‚
â”‚                                                 â”‚
â”‚  1. ì¢…í•©ì†Œë“ì„¸ ê³¼ì„¸ ëŒ€ìƒ                          â”‚
â”‚     - ì‚¬ì—…ì†Œë“, ê·¼ë¡œì†Œë“, ì´ìì†Œë“...              â”‚
â”‚  2. ì‹ ê³  ê¸°ê°„                                    â”‚
â”‚     - ë§¤ë…„ 5ì›” 1ì¼ ~ 5ì›” 31ì¼                    â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚ ğŸ” ì „ë¬¸ê°€ ê²€ì¦ ì‹ ì²­ â”‚  [ë³µì‚¬] [ğŸ‘] [ğŸ‘]        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.4 ChatMessage - AI ë‹µë³€ (ì „ë¬¸ê°€ ê²€ì¦ ì™„ë£Œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI ì „ë¬¸ê°€                                    â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ… ì „ë¬¸ê°€ ê²€ì¦ ì™„ë£Œ                          â”‚ â”‚  â† ìƒë‹¨ ë°°ì§€ (green bg)
â”‚  â”‚ ê²€ì¦: ê¹€ì„¸ë¬´ ì„¸ë¬´ì‚¬ | 2026.02.26             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚  ì¢…í•©ì†Œë“ì„¸ëŠ” ê°œì¸ì´ 1ë…„ê°„ ê²½ì œí™œë™ìœ¼ë¡œ ì–»ì€       â”‚
â”‚  ì†Œë“ì— ëŒ€í•´ ë‚©ë¶€í•˜ëŠ” ì„¸ê¸ˆì…ë‹ˆë‹¤...                â”‚
â”‚                                                 â”‚
â”‚  [ì „ë¬¸ê°€ ê²€ì¦ ì™„ë£Œ âœ…] [ë³µì‚¬] [ğŸ‘] [ğŸ‘]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.5 ChatMessage - ì „ë¬¸ê°€ ê²€ì¦ ëŒ€ê¸° ì¤‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI ì „ë¬¸ê°€                                    â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â³ ì „ë¬¸ê°€ ê²€ì¦ ëŒ€ê¸° ì¤‘...                     â”‚ â”‚  â† ìƒë‹¨ ë°°ì§€ (yellow bg)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚  ì¢…í•©ì†Œë“ì„¸ëŠ” ê°œì¸ì´ 1ë…„ê°„ ê²½ì œí™œë™ìœ¼ë¡œ ì–»ì€       â”‚
â”‚  ì†Œë“ì— ëŒ€í•´ ë‚©ë¶€í•˜ëŠ” ì„¸ê¸ˆì…ë‹ˆë‹¤...                â”‚
â”‚                                                 â”‚
â”‚  [ê²€ì¦ ëŒ€ê¸° ì¤‘ â³] [ë³µì‚¬] [ğŸ‘] [ğŸ‘]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.6 ChatInput (í•˜ë‹¨ ì…ë ¥ì°½)

```
Gemini ìŠ¤íƒ€ì¼ - ë‘¥ê·¼ ëª¨ì„œë¦¬, ê·¸ë¦¼ì:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚  ì„¸ë¬´, íšŒê³„, ê²½ë¦¬ ê´€ë ¨ ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...               â”‚  â† placeholder
â”‚                                                         â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”        â”‚
â”‚                                          â”‚  â¤  â”‚        â”‚  â† ì „ì†¡ ë²„íŠ¼ (primary color)
â”‚                                          â””â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- í…Œë‘ë¦¬: rounded-2xl, border, shadow-sm
- ë†’ì´: ìë™ í™•ì¥ (textarea, max 5ì¤„)
- Enter: ì „ì†¡, Shift+Enter: ì¤„ë°”ê¿ˆ
```

### 5.3 ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ (ê¸°ì¡´ BIZSCHOOL í† í° í™œìš©)

| ìš©ë„ | CSS Variable | ê°’ | ì ìš© |
|------|-------------|-----|------|
| í˜ì´ì§€ ë°°ê²½ | `--color-light-bg` | #f8f9fa | ì±„íŒ… ì˜ì—­ ë°°ê²½ |
| ì‚¬ì´ë“œë°” ë°°ê²½ | `--background` | #ffffff | ì‚¬ì´ë“œë°” |
| ì‚¬ìš©ì ë©”ì‹œì§€ BG | `--color-primary-light` | #eff6ff | ì‚¬ìš©ì ë§í’ì„  |
| AI ë©”ì‹œì§€ BG | `--background` | #ffffff | AI ë‹µë³€ ì˜ì—­ |
| ì „ë¬¸ê°€ ê²€ì¦ ë²„íŠ¼ | `--color-primary` | #155dfc | ë²„íŠ¼ ë°°ê²½ |
| ê²€ì¦ ì™„ë£Œ ë°°ì§€ | - | #dcfce7 (green-100) | ë°°ì§€ ë°°ê²½ |
| ê²€ì¦ ëŒ€ê¸° ë°°ì§€ | - | #fef9c3 (yellow-100) | ë°°ì§€ ë°°ê²½ |
| í…ìŠ¤íŠ¸ | `--color-dark` | #282c34 | ë©”ì‹œì§€ ë³¸ë¬¸ |
| ë³´ì¡° í…ìŠ¤íŠ¸ | `--color-muted` | #6a7282 | íƒ€ì„ìŠ¤íƒ¬í”„, ì•ˆë‚´ |
| í…Œë‘ë¦¬ | `--color-border` | #e5e7eb | êµ¬ë¶„ì„ , ì…ë ¥ì°½ |

### 5.4 User Flow

```
[BIZSCHOOL ë©”ì¸] â†’ ë„¤ë¹„ê²Œì´ì…˜ "ì „ë¬¸ê°€ìƒë‹´" í´ë¦­
        â”‚
        â–¼
[/consulting - WelcomeScreen]
        â”‚
        â”œâ”€â”€ ì¶”ì²œ ì§ˆë¬¸ ì¹© í´ë¦­ ë˜ëŠ” ì§ì ‘ ì…ë ¥
        â”‚
        â–¼
[ì±„íŒ… ì‹œì‘ - ì§ˆë¬¸ & AI ë‹µë³€]
        â”‚
        â”œâ”€â”€ ì¶”ê°€ ì§ˆë¬¸ â†’ ëŒ€í™” ê³„ì†
        â”‚
        â”œâ”€â”€ "ì „ë¬¸ê°€ ê²€ì¦" í´ë¦­
        â”‚       â”‚
        â”‚       â–¼
        â”‚   [ê²€ì¦ ëŒ€ê¸° ì¤‘ â³]
        â”‚       â”‚
        â”‚       â–¼ (ì‹œë®¬ë ˆì´ì…˜ 2ì´ˆ í›„)
        â”‚   [ì „ë¬¸ê°€ ê²€ì¦ ì™„ë£Œ âœ…]
        â”‚
        â”œâ”€â”€ "ìƒˆ ì±„íŒ…" í´ë¦­ â†’ í˜„ì¬ ëŒ€í™” ì‚¬ì´ë“œë°” ì €ì¥ â†’ WelcomeScreen
        â”‚
        â””â”€â”€ ì‚¬ì´ë“œë°” ê¸°ë¡ í´ë¦­ â†’ í•´ë‹¹ ëŒ€í™” ë³µì›
```

### 5.5 Component List

| Component | Location | Responsibility | Client/Server |
|-----------|----------|----------------|:-------------:|
| `layout.tsx` | `src/app/consulting/layout.tsx` | ì „ìš© ë ˆì´ì•„ì›ƒ (í°íŠ¸, ì „ì²´í™”ë©´) | Server |
| `page.tsx` | `src/app/consulting/page.tsx` | ìµœìƒìœ„ í˜ì´ì§€ (ìƒíƒœ ê´€ë¦¬) | Client |
| `Sidebar` | `src/components/consultation/Sidebar.tsx` | ëŒ€í™” ê¸°ë¡ ëª©ë¡, ìƒˆ ì±„íŒ… ë²„íŠ¼ | Client |
| `ChatArea` | `src/components/consultation/ChatArea.tsx` | ì±„íŒ… ì˜ì—­ ì»¨í…Œì´ë„ˆ (ìŠ¤í¬ë¡¤) | Client |
| `ChatMessage` | `src/components/consultation/ChatMessage.tsx` | ê°œë³„ ë©”ì‹œì§€ ë Œë”ë§ | Client |
| `ChatInput` | `src/components/consultation/ChatInput.tsx` | í…ìŠ¤íŠ¸ ì…ë ¥, ì „ì†¡ | Client |
| `WelcomeScreen` | `src/components/consultation/WelcomeScreen.tsx` | ì´ˆê¸° í™˜ì˜ í™”ë©´ | Server |
| `ExpertBadge` | `src/components/consultation/ExpertBadge.tsx` | ì „ë¬¸ê°€ ê²€ì¦ ìƒíƒœ ë°°ì§€ | Server |
| `SuggestChips` | `src/components/consultation/SuggestChips.tsx` | ì¶”ì²œ ì§ˆë¬¸ ì¹© | Client |

---

## 6. Component Detailed Design

### 6.1 `consulting/layout.tsx` (ì „ìš© ë ˆì´ì•„ì›ƒ)

```typescript
// Server Component
// ê¸°ì¡´ RootLayoutì˜ Header/SearchBar/Footer ì œì™¸
// í°íŠ¸ ë³€ìˆ˜ë§Œ ìƒì†, ì „ì²´ í™”ë©´ ì‚¬ìš©

Props: { children: React.ReactNode }

<html lang="ko">
  <body className="{fonts} antialiased">
    {children}    // â† Header, SearchBar, Footer ì—†ìŒ
  </body>
</html>
```

> **ì£¼ì˜**: Next.js App Routerì—ì„œ `consulting/layout.tsx`ëŠ” RootLayoutì„ ëŒ€ì²´í•˜ì§€ ì•Šê³  ì¤‘ì²©ë©ë‹ˆë‹¤.
> RootLayoutì—ì„œ Header/SearchBar/Footerë¥¼ ì¡°ê±´ë¶€ ë Œë”ë§í•˜ê±°ë‚˜,
> ë˜ëŠ” consulting í˜ì´ì§€ì—ì„œ CSSë¡œ ìˆ¨ê¸°ëŠ” ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤.
>
> **ì„ íƒëœ ì ‘ê·¼**: RootLayoutì—ì„œ pathname ì²´í¬í•˜ì—¬ consulting ê²½ë¡œì¼ ë•Œ Header/SearchBar/Footer ìˆ¨ê¹€.
> êµ¬í˜„ ë°©ì‹: `consulting/layout.tsx`ì—ì„œ `<div className="consulting-layout">` ë˜í¼ ì‚¬ìš© +
> globals.cssì—ì„œ `.consulting-layout ~ header, ...` ìˆ¨ê¹€ ì²˜ë¦¬.
>
> **ìµœì¢… ê²°ì •**: ê°€ì¥ ê¹”ë”í•œ ë°©ì‹ì€ RootLayoutì„ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼,
> consulting/layout.tsxì—ì„œ ë…ìì ì¸ HTML êµ¬ì¡°ë¥¼ ë§Œë“¤ì§€ ì•Šê³ ,
> page.tsxë¥¼ "use client" ì „ì²´ í™”ë©´ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ fixed í¬ì§€ì…”ë‹ìœ¼ë¡œ ì „ì²´ ë·°í¬íŠ¸ ì°¨ì§€.
> ê¸°ì¡´ Header/Footer ìœ„ì— z-indexë¡œ ì˜¤ë²„ë ˆì´.

**ìµœì¢… êµ¬í˜„ ì „ëµ**:
- `consulting/page.tsx`: `"use client"`, `fixed inset-0 z-[60]` (Header z-50 ìœ„)
- ì „ì²´ ë·°í¬íŠ¸ë¥¼ ì°¨ì§€í•˜ëŠ” ì±„íŒ… UI
- ë³„ë„ layout.tsx ë¶ˆí•„ìš” (RootLayout ê·¸ëŒ€ë¡œ ì‚¬ìš©)
- "BIZSCHOOL í™ˆ" ë§í¬ë¡œ ë©”ì¸ í˜ì´ì§€ ë³µê·€ ê°€ëŠ¥

### 6.2 `consulting/page.tsx` (ë©”ì¸ í˜ì´ì§€)

```typescript
"use client";

// State Management
const [sessions, setSessions] = useState<ConsultationSession[]>([]);
const [currentSessionId, setCurrentSessionId] = useState<string | null>(null);
const [sidebarOpen, setSidebarOpen] = useState(true);         // ë°ìŠ¤í¬í†± ê¸°ë³¸ ì—´ë¦¼
const [isLoading, setIsLoading] = useState(false);             // AI ì‘ë‹µ ë¡œë”©

// Computed
const currentSession = sessions.find(s => s.id === currentSessionId);
const messages = currentSession?.messages ?? [];

// Handlers
handleSendMessage(content: string): void
  â†’ user ë©”ì‹œì§€ ì¶”ê°€, mock AI ì‘ë‹µ ìƒì„±

handleNewChat(): void
  â†’ ìƒˆ ì„¸ì…˜ ìƒì„±, currentSessionId ë³€ê²½

handleSelectSession(sessionId: string): void
  â†’ currentSessionId ë³€ê²½

handleRequestVerification(messageId: string): void
  â†’ í•´ë‹¹ ë©”ì‹œì§€ expertVerification.status = 'pending'
  â†’ 2ì´ˆ í›„ 'verified'ë¡œ ì „í™˜

handleSuggestChipClick(query: string): void
  â†’ handleSendMessage(query) í˜¸ì¶œ
```

### 6.3 `Sidebar.tsx`

```typescript
Props:
  sessions: ConsultationSession[]
  currentSessionId: string | null
  isOpen: boolean
  onToggle: () => void
  onNewChat: () => void
  onSelectSession: (id: string) => void

êµ¬ì¡°:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚ âœï¸ ìƒˆ ì±„íŒ…        â”‚  â”‚  â† ìƒˆ ì±„íŒ… ë²„íŠ¼
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                        â”‚
  â”‚  â”€â”€ ì˜¤ëŠ˜ â”€â”€            â”‚  â† ë‚ ì§œ ê·¸ë£¹ í—¤ë”
  â”‚  ğŸ“„ ì„¸ë¬´ ìƒë‹´ ì§ˆë¬¸...   â”‚  â† ì„¸ì…˜ ì•„ì´í…œ (active: bg-primary-light)
  â”‚  ğŸ“„ íšŒê³„ ê´€ë ¨ ë¬¸ì˜...   â”‚
  â”‚                        â”‚
  â”‚  â”€â”€ ì–´ì œ â”€â”€            â”‚
  â”‚  ğŸ“„ ê²½ë¦¬ ì—…ë¬´ ê´€ë ¨...   â”‚
  â”‚                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ìŠ¤íƒ€ì¼:
  - ë°ìŠ¤í¬í†±: w-[260px], border-r, ê³ ì • ì‚¬ì´ë“œë°”
  - ëª¨ë°”ì¼: fixed overlay, w-[280px], ìŠ¬ë¼ì´ë“œ ì¸/ì•„ì›ƒ
  - ë°°ê²½: bg-white
  - ì„¸ì…˜ ì•„ì´í…œ: hover:bg-gray-50, active:bg-[var(--color-primary-light)]
  - ë‚ ì§œ ê·¸ë£¹: text-xs, text-muted, uppercase
```

### 6.4 `ChatArea.tsx`

```typescript
Props:
  messages: ChatMessage[]
  isLoading: boolean
  onRequestVerification: (messageId: string) => void

êµ¬ì¡°:
  - messages.length === 0 â†’ <WelcomeScreen />
  - messages.length > 0  â†’ messages.map(m => <ChatMessage />)
  - isLoading            â†’ ë¡œë”© ì¸ë””ì¼€ì´í„° (Gemini ìŠ¤íƒ€ì¼ dots)

ìŠ¤íƒ€ì¼:
  - flex-1 overflow-y-auto
  - ë©”ì‹œì§€ ìµœëŒ€ ë„ˆë¹„: max-w-[768px] mx-auto
  - ë°°ê²½: bg-[var(--color-light-bg)]
  - ìŠ¤í¬ë¡¤: ìƒˆ ë©”ì‹œì§€ ì‹œ ìë™ í•˜ë‹¨ ìŠ¤í¬ë¡¤ (useEffect + scrollIntoView)
```

### 6.5 `ChatMessage.tsx`

```typescript
Props:
  message: ChatMessage
  onRequestVerification?: (messageId: string) => void

êµ¬ì¡°:
  role === 'user':
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            ì‚¬ìš©ì ë©”ì‹œì§€ ë‚´ìš©   â”‚  â† ìš°ì¸¡ ì •ë ¬, bg-primary-light, rounded
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  role === 'assistant':
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ¤– AI ì „ë¬¸ê°€                 â”‚  â† ì•„ë°”íƒ€ + ì´ë¦„
    â”‚                              â”‚
    â”‚  [ExpertBadge] (ìˆì„ ê²½ìš°)    â”‚  â† ê²€ì¦ ìƒíƒœ ë°°ì§€
    â”‚                              â”‚
    â”‚  ë‹µë³€ ë‚´ìš©...                 â”‚  â† ë³¸ë¬¸ (prose ìŠ¤íƒ€ì¼)
    â”‚                              â”‚
    â”‚  [ì „ë¬¸ê°€ ê²€ì¦] [ë³µì‚¬] [ğŸ‘][ğŸ‘]â”‚  â† ì•¡ì…˜ ë²„íŠ¼ ê·¸ë£¹
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ìŠ¤íƒ€ì¼:
  - user: ml-auto, max-w-[80%], bg-[var(--color-primary-light)], rounded-2xl, px-4 py-3
  - assistant: max-w-[768px], ì¢Œì¸¡ ì •ë ¬
  - ì•¡ì…˜ ë²„íŠ¼: opacity-0 group-hover:opacity-100 (hover ì‹œ ë…¸ì¶œ, ëª¨ë°”ì¼ì€ í•­ìƒ ë…¸ì¶œ)
```

### 6.6 `ChatInput.tsx`

```typescript
Props:
  onSend: (content: string) => void
  disabled: boolean      // AI ì‘ë‹µ ì¤‘ ë¹„í™œì„±

êµ¬ì¡°:
  <textarea> + ì „ì†¡ ë²„íŠ¼

ë™ì‘:
  - Enter: ì „ì†¡ (ë¹ˆ ê°’ì´ë©´ ë¬´ì‹œ)
  - Shift+Enter: ì¤„ë°”ê¿ˆ
  - ìë™ ë†’ì´ ì¡°ì ˆ (min 1ì¤„, max 5ì¤„)
  - ì „ì†¡ í›„ ì…ë ¥ì°½ ì´ˆê¸°í™” + focus ìœ ì§€

ìŠ¤íƒ€ì¼:
  - ì™¸ê³½: rounded-2xl, border border-[var(--color-border)], shadow-sm
  - ë‚´ë¶€: px-4 py-3, resize-none
  - ì „ì†¡ ë²„íŠ¼: ì›í˜•, bg-[var(--color-primary)], text-white, w-10 h-10
  - disabled: opacity-50, cursor-not-allowed
  - max-w-[768px] mx-auto
```

### 6.7 `WelcomeScreen.tsx`

```typescript
Props: (ì—†ìŒ)

êµ¬ì¡°:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                             â”‚
  â”‚   ğŸ’¬ AI ì „ë¬¸ê°€ì—ê²Œ           â”‚  â† MessageSquare ì•„ì´ì½˜ (lucide)
  â”‚      ë¬¼ì–´ë³´ì„¸ìš”              â”‚  â† text-3xl font-bold text-dark
  â”‚                             â”‚
  â”‚   ì„¸ë¬´, íšŒê³„, ê²½ë¦¬ ê´€ë ¨      â”‚  â† text-lg text-muted
  â”‚   ê¶ê¸ˆí•œ ì ì„ ììœ ë¡­ê²Œ       â”‚
  â”‚   ì§ˆë¬¸í•´ ì£¼ì„¸ìš”.             â”‚
  â”‚                             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ìŠ¤íƒ€ì¼:
  - flex items-center justify-center, flex-1
  - í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬
```

### 6.8 `ExpertBadge.tsx`

```typescript
Props:
  verification: ExpertVerification

ë Œë”ë§:
  status === 'none'     â†’ null (í‘œì‹œ ì•ˆ í•¨)
  status === 'pending'  â†’ â³ ì „ë¬¸ê°€ ê²€ì¦ ëŒ€ê¸° ì¤‘... (yellow-100 bg, yellow-800 text)
  status === 'verified' â†’ âœ… ì „ë¬¸ê°€ ê²€ì¦ ì™„ë£Œ - {expertName} | {verifiedAt} (green-100 bg, green-800 text)

ìŠ¤íƒ€ì¼:
  - rounded-lg, px-3 py-2, text-sm, mb-3
  - ë°°ê²½/í…ìŠ¤íŠ¸ ìƒ‰ìƒì€ statusë³„ ë¶„ê¸°
```

### 6.9 `SuggestChips.tsx`

```typescript
Props:
  onChipClick: (query: string) => void

êµ¬ì¡°:
  SUGGEST_CHIPS.map(chip =>
    <button>{chip.label}</button>
  )

ìŠ¤íƒ€ì¼:
  - flex gap-2 justify-center flex-wrap
  - ê°œë³„ ì¹©: rounded-full, border, px-4 py-2, text-sm
  - hover: bg-gray-50, border-[var(--color-primary)]
  - max-w-[768px] mx-auto
```

---

## 7. State Management Design

### 7.1 ìƒíƒœ êµ¬ì¡°

```typescript
// ConsultingPage ë‚´ë¶€ state
interface ConsultingPageState {
  sessions: ConsultationSession[];     // ëª¨ë“  ëŒ€í™” ì„¸ì…˜
  currentSessionId: string | null;     // í˜„ì¬ í™œì„± ì„¸ì…˜
  sidebarOpen: boolean;                // ì‚¬ì´ë“œë°” ì—´ë¦¼/ë‹«í˜
  isLoading: boolean;                  // AI ì‘ë‹µ ëŒ€ê¸° ì¤‘
}
```

### 7.2 ìƒíƒœ ë³€ê²½ íë¦„

| Action | State Changes |
|--------|--------------|
| ìƒˆ ì±„íŒ… | sessionsì— ë¹ˆ ì„¸ì…˜ ì¶”ê°€, currentSessionId ë³€ê²½ |
| ë©”ì‹œì§€ ì „ì†¡ | currentSession.messagesì— user ë©”ì‹œì§€ ì¶”ê°€, isLoading=true |
| AI ì‘ë‹µ ë„ì°© | currentSession.messagesì— assistant ë©”ì‹œì§€ ì¶”ê°€, isLoading=false, session.title ì—…ë°ì´íŠ¸ |
| ì„¸ì…˜ ì„ íƒ | currentSessionId ë³€ê²½ |
| ì „ë¬¸ê°€ ê²€ì¦ ì‹ ì²­ | í•´ë‹¹ ë©”ì‹œì§€ expertVerification = {status:'pending'} |
| ì „ë¬¸ê°€ ê²€ì¦ ì™„ë£Œ | í•´ë‹¹ ë©”ì‹œì§€ expertVerification = {status:'verified', ...} |
| ì‚¬ì´ë“œë°” í† ê¸€ | sidebarOpen ë°˜ì „ |

---

## 8. Error Handling

### 8.1 ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤

| ì‹œë‚˜ë¦¬ì˜¤ | ì²˜ë¦¬ |
|----------|------|
| ë¹ˆ ë©”ì‹œì§€ ì „ì†¡ ì‹œë„ | ì „ì†¡ ë²„íŠ¼ ë¹„í™œì„± (trim ê²€ì‚¬) |
| AI ì‘ë‹µ ì§€ì—° | ë¡œë”© ì¸ë””ì¼€ì´í„° í‘œì‹œ |
| ì„¸ì…˜ ë°ì´í„° ì†ì‹¤ | ë¡œì»¬ ìƒíƒœë§Œ ì‚¬ìš©, ìƒˆë¡œê³ ì¹¨ ì‹œ ì´ˆê¸°í™” (ì˜ë„ëœ ë™ì‘) |

---

## 9. Security Considerations

- [x] XSS ë°©ì§€: ì‚¬ìš©ì ì…ë ¥ì„ Reactê°€ ìë™ ì´ìŠ¤ì¼€ì´í”„ (dangerouslySetInnerHTML ë¯¸ì‚¬ìš©)
- [x] ë¯¼ê° ì •ë³´ ì—†ìŒ: mock ë°ì´í„°ë§Œ ì‚¬ìš©, API í‚¤/ì„œë²„ í†µì‹  ì—†ìŒ
- [ ] í–¥í›„ LLM ì—°ë™ ì‹œ: API í‚¤ ì„œë²„ì‚¬ì´ë“œ ë³´ê´€, Rate Limiting í•„ìš”

---

## 10. Test Plan

### 10.1 Test Scope

| Type | Target | Tool |
|------|--------|------|
| ìˆ˜ë™ í…ŒìŠ¤íŠ¸ | UI ì¸í„°ë™ì…˜, ë°˜ì‘í˜• | ë¸Œë¼ìš°ì € |
| ì‹œê°ì  ê²€ì¦ | Gemini UI ìœ ì‚¬ë„ | Playwright ìŠ¤í¬ë¦°ìƒ· ë¹„êµ |

### 10.2 Test Cases

- [ ] ì´ˆê¸° WelcomeScreen ì •ìƒ í‘œì‹œ
- [ ] ì¶”ì²œ ì¹© í´ë¦­ â†’ ë©”ì‹œì§€ ì „ì†¡ â†’ AI ë‹µë³€ í‘œì‹œ
- [ ] ì§ì ‘ ì…ë ¥ â†’ Enter ì „ì†¡ â†’ AI ë‹µë³€ í‘œì‹œ
- [ ] Shift+Enter â†’ ì¤„ë°”ê¿ˆ (ì „ì†¡ ì•ˆ ë¨)
- [ ] ì „ë¬¸ê°€ ê²€ì¦ ì‹ ì²­ â†’ ëŒ€ê¸° ì¤‘ â†’ ì™„ë£Œ ë°°ì§€ ì „í™˜
- [ ] ìƒˆ ì±„íŒ… â†’ ì´ì „ ëŒ€í™” ì‚¬ì´ë“œë°” ì €ì¥
- [ ] ì‚¬ì´ë“œë°” ì„¸ì…˜ í´ë¦­ â†’ ëŒ€í™” ë³µì›
- [ ] ì‚¬ì´ë“œë°” í† ê¸€ (ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼)
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• ì •ìƒ ë™ì‘
- [ ] AI ì‘ë‹µ ëŒ€ê¸° ì¤‘ ì…ë ¥ ë¹„í™œì„±

---

## 11. Implementation Guide

### 11.1 File Structure

```
src/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ consulting/
â”‚       â””â”€â”€ page.tsx              â† "use client" ì „ì²´ í™”ë©´ í˜ì´ì§€
â”œâ”€â”€ components/
â”‚   â””â”€â”€ consultation/
â”‚       â”œâ”€â”€ Sidebar.tsx
â”‚       â”œâ”€â”€ ChatArea.tsx
â”‚       â”œâ”€â”€ ChatMessage.tsx
â”‚       â”œâ”€â”€ ChatInput.tsx
â”‚       â”œâ”€â”€ WelcomeScreen.tsx
â”‚       â”œâ”€â”€ ExpertBadge.tsx
â”‚       â””â”€â”€ SuggestChips.tsx
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts                  â† ConsultationSession, ChatMessage, ExpertVerification ì¶”ê°€
â””â”€â”€ data/
    â””â”€â”€ consultation.ts           â† SUGGEST_CHIPS, MOCK_RESPONSES, ìœ í‹¸ í•¨ìˆ˜
```

### 11.2 Implementation Order

1. [ ] **íƒ€ì… ì •ì˜**: `types/index.ts`ì— ConsultationSession, ChatMessage, ExpertVerification ì¶”ê°€
2. [ ] **Mock ë°ì´í„°**: `data/consultation.ts` ìƒì„± (ì¶”ì²œ ì§ˆë¬¸, mock ì‘ë‹µ, ìœ í‹¸ í•¨ìˆ˜)
3. [ ] **WelcomeScreen**: ì´ˆê¸° í™˜ì˜ í™”ë©´ ì»´í¬ë„ŒíŠ¸
4. [ ] **ExpertBadge**: ì „ë¬¸ê°€ ê²€ì¦ ìƒíƒœ ë°°ì§€ ì»´í¬ë„ŒíŠ¸
5. [ ] **SuggestChips**: ì¶”ì²œ ì§ˆë¬¸ ì¹© ì»´í¬ë„ŒíŠ¸
6. [ ] **ChatInput**: ë©”ì‹œì§€ ì…ë ¥ ì»´í¬ë„ŒíŠ¸
7. [ ] **ChatMessage**: ê°œë³„ ë©”ì‹œì§€ ë Œë”ë§ ì»´í¬ë„ŒíŠ¸
8. [ ] **ChatArea**: ì±„íŒ… ì˜ì—­ ì»¨í…Œì´ë„ˆ
9. [ ] **Sidebar**: ëŒ€í™” ê¸°ë¡ ì‚¬ì´ë“œë°”
10. [ ] **page.tsx**: ì „ì²´ ì¡°í•© + ìƒíƒœ ê´€ë¦¬

### 11.3 ì˜ì¡´ì„±

- ì¶”ê°€ npm íŒ¨í‚¤ì§€: **ì—†ìŒ** (ê¸°ì¡´ lucide-reactë§Œ í™œìš©)
- ìƒˆ CSS ë³€ìˆ˜: **ì—†ìŒ** (ê¸°ì¡´ í† í° í™œìš©, green/yellowëŠ” Tailwind ê¸°ë³¸ í´ë˜ìŠ¤ ì‚¬ìš©)

---

## Version History

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 0.1 | 2026-02-26 | Initial draft | Allen |
